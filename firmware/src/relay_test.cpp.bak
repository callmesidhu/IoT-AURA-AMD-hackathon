// ============================================
// RELAY GPIO DIAGNOSTIC — Flash this INSTEAD of main.cpp
// to test if GPIO10 can physically drive your relay.
// 
// To use: rename main.cpp -> main.cpp.bak
//         rename relay_test.cpp.bak -> main.cpp
//         flash and watch serial monitor + relay
// ============================================
#include <Arduino.h>

#define RELAY_PIN 10  // GPIO10 = D10 on XIAO C3

void setup() {
  Serial.begin(115200);
  delay(1000);

  Serial.println("\n=============================");
  Serial.println("  RELAY GPIO DIAGNOSTIC");
  Serial.println("  Pin: GPIO10 (D10)");
  Serial.println("=============================\n");

  pinMode(RELAY_PIN, OUTPUT);
  digitalWrite(RELAY_PIN, LOW);
  Serial.println("[TEST] Pin set LOW — relay should be OFF");
  Serial.println("[TEST] Starting toggle test in 2 seconds...\n");
  delay(2000);
}

void loop() {
  // --- HIGH ---
  digitalWrite(RELAY_PIN, HIGH);
  Serial.printf("[TEST] GPIO%d = HIGH  (if relay clicks ON, it's active-HIGH)\n", RELAY_PIN);
  delay(2000);

  // --- LOW ---
  digitalWrite(RELAY_PIN, LOW);
  Serial.printf("[TEST] GPIO%d = LOW   (if relay clicks ON, it's active-LOW)\n", RELAY_PIN);
  delay(2000);
}
